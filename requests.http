### Variables
@baseURL = http://localhost:4000/api
@token = sess_39RfAIwdCo6uI5RLIihiReZa4Sg

### ==============================================
### AUTH - Get Test Token (DEVELOPMENT ONLY)
### ==============================================

### Get token for your test user
POST {{baseURL}}/auth/test-token
Content-Type: application/json

{
  "email": "tu-email@ejemplo.com"
}

### ==============================================
### REVIEWS - With Authentication
### ==============================================

### Create Review (Private - Requires Auth)
POST {{baseURL}}/routes/ROUTE_ID_HERE/reviews
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "rating": 5,
  "comment": "Excelente ruta con autenticación real!"
}

### Get Reviews (Public)
GET {{baseURL}}/routes/ROUTE_ID_HERE/reviews

### ==============================================
### FAVORITES - With Authentication
### ==============================================

### Add to Favorites (Private)
POST {{baseURL}}/routes/ROUTE_ID_HERE/favorites
Authorization: Bearer {{token}}

### Get My Favorites (Private)
GET {{baseURL}}/favorites
Authorization: Bearer {{token}}

### Check if Favorite (Private)
GET {{baseURL}}/favorites/check/ROUTE_ID_HERE
Authorization: Bearer {{token}}

### Remove from Favorites (Private)
DELETE {{baseURL}}/routes/ROUTE_ID_HERE/favorites
Authorization: Bearer {{token}}

### ==============================================
### ROUTE CALLS - With Authentication
### ==============================================

### Create Route Call (Private)
POST {{baseURL}}/route-calls
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "routeId": "ROUTE_ID_HERE",
  "description": "Convocatoria con autenticación real",
  "dateRoute": "2026-03-01T10:00:00Z",
  "pace": "CARACOL",
  "meetingPoints": [
    {
      "type": "PRIMARY",
      "name": "Puerta de Alcalá",
      "location": "https://maps.app.goo.gl/3kjrtMz9BtQ39BJYA"
    }
  ]
}

### Get All Route Calls (Public)
GET {{baseURL}}/route-calls

### Update Route Call (Private - Only Organizer)
PUT {{baseURL}}/route-calls/ROUTE_CALL_ID_HERE
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "description": "Descripción actualizada"
}

### Cancel Route Call (Private - Organizer or Admin)
PATCH {{baseURL}}/route-calls/ROUTE_CALL_ID_HERE/cancel
Authorization: Bearer {{token}}

### ==============================================
### ATTENDANCES - With Authentication
### ==============================================

### Confirm Attendance (Private)
POST {{baseURL}}/route-calls/ROUTE_CALL_ID_HERE/attendances
Authorization: Bearer {{token}}

### Get Attendances (Public)
GET {{baseURL}}/route-calls/ROUTE_CALL_ID_HERE/attendances

### Get My Attendances (Private)
GET {{baseURL}}/attendances/my-attendances
Authorization: Bearer {{token}}

### Cancel Attendance (Private)
DELETE {{baseURL}}/route-calls/ROUTE_CALL_ID_HERE/attendances
Authorization: Bearer {{token}}

### ==============================================
### PHOTOS - With Authentication
### ==============================================

### Upload Photo to Route Gallery (Private)
POST {{baseURL}}/photos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "context": "ROUTE_GALLERY",
  "routeId": "ROUTE_ID_HERE",
  "imageUrl": "https://images.unsplash.com/photo-1449034446853-66c86144b0ad",
  "caption": "Foto subida con autenticación real"
}

### Get Public Gallery
GET {{baseURL}}/photos

### Get My Photos (Private)
GET {{baseURL}}/photos/my-photos
Authorization: Bearer {{token}}

### Get Pending Photos (Admin Only)
GET {{baseURL}}/photos/pending-review
Authorization: Bearer {{token}}

### Delete Photo (Private - Owner or Admin)
DELETE {{baseURL}}/photos/PHOTO_ID_HERE
Authorization: Bearer {{token}}